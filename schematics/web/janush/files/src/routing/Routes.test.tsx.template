import React from "react";
import { render, screen } from "@testing-library/react";
import { MemoryRouter } from "react-router-dom";

import defaultTheme from "@themes/defaultTheme";
import Paths from "@routing/paths";
import Routes from "@routing/Routes";
import { ThemeProvider } from "@mui/styles";

describe("<Routes />", () => {
  it("should render routes properly", async () => {
    render(
      <ThemeProvider theme={defaultTheme()}>
        <MemoryRouter initialEntries={[Paths.BASE]}>
          <React.Suspense fallback={<div>test</div>}>
            <Routes />
          </React.Suspense>
        </MemoryRouter>
      </ThemeProvider>
    );

    const indexContent = await screen.findByText("Index page");
    expect(indexContent).toBeInTheDocument();
  });
});
